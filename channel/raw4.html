<html>
<head>
<title>hi</title>
<!--<meta name="referrer" content="no-referrer" />
<meta name="referrer" content="never">-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="//cdn.jsdelivr.net/npm/@clappr/player@0.4.0/dist/clappr.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/shaka-player@4.7.9/dist/shaka-player.compiled.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/clappr-shaka-playback@2.2.8/dist/clappr-shaka-playback.external.min.js"></script>
<script src='//cdn.jsdelivr.net/gh/clappr/clappr-level-selector-plugin@latest/dist/level-selector.min.js' type='text/javascript'></script>
</head>
<body style="margin:0px;padding:0px;background-color: #111111">
<div align="center">
<div id="vid"></div>
<script>
function getParameterByName(name) {
	name = name.replace(/[\[]/, "\[").replace(/[\]]/, "\]");
	var regex = new RegExp("[\?&]" + name + "=([^&#]*)"),
	results = regex.exec(location.search);
	return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}

var getURL = getParameterByName('url');
var getIMG = getParameterByName('img');
var getKEY  = getParameterByName('k1');
var getKEY2  = getParameterByName('k2');

var player = new Clappr.Player({
source: atob(getURL),
width:'100%',
height:'100%',
autoPlay: false,
mimeType: "application/x-mpegURL",
mediacontrol: {seekbar: "#00a3e0", buttons: "#00a3e0"}, 
plugins: [LevelSelector,ClapprShakaPlayback],
shakaConfiguration: {
drm: { clearKeys: {atob(getKEY):atob(getKEY2)}
}},
parentId: "#vid"});
</script>
</div>
</body>
</html>
